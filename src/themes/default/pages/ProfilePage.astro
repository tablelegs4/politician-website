---
// デフォルトテーマのプロフィールページ

// URLパラメータを保持する関数
const themeParam = Astro.url.searchParams.get('theme');
const themeQuery = themeParam ? `?theme=${themeParam}` : '';

// ベースパスを適用したパスを生成する関数
const baseUrl = import.meta.env.BASE_URL || '/';
const withBase = (path: string) => {
  if (path.startsWith('http://') || path.startsWith('https://') || path.startsWith('//')) {
    return path;
  }
  const base = baseUrl.endsWith('/') ? baseUrl.slice(0, -1) : baseUrl;
  const cleanPath = path.startsWith('/') ? path : `/${path}`;
  return `${base}${cleanPath}${themeQuery}`;
};
---

<main>
  <div class="container">
    <h1>プロフィール</h1>

    <section class="card">
      <h2>基本情報</h2>
      <dl class="profile-list">
        <div class="profile-item">
          <dt>氏名</dt>
          <dd>山田 太郎（やまだ たろう）</dd>
        </div>
        <div class="profile-item">
          <dt>生年月日</dt>
          <dd>1975年4月15日</dd>
        </div>
        <div class="profile-item">
          <dt>出身地</dt>
          <dd>東京都</dd>
        </div>
        <div class="profile-item">
          <dt>学歴</dt>
          <dd>○○大学法学部卒業</dd>
        </div>
        <div class="profile-item">
          <dt>趣味</dt>
          <dd>読書、ジョギング</dd>
        </div>
      </dl>
    </section>

    <style>
      .profile-list {
        margin: 0;
      }

      .profile-item {
        display: flex;
        flex-wrap: wrap;
        padding: 0.75rem 0;
        border-bottom: 1px solid #e0e0e0;
      }

      .profile-item:last-child {
        border-bottom: none;
      }

      .profile-item dt {
        width: 8rem;
        flex-shrink: 0;
        font-weight: bold;
        color: #333;
      }

      .profile-item dd {
        flex: 1;
        margin: 0;
        min-width: 0;
      }

      @media (max-width: 480px) {
        .profile-item {
          flex-direction: column;
          gap: 0.25rem;
        }

        .profile-item dt {
          width: auto;
        }
      }
    </style>

    <section class="mt-4">
      <h2>経歴</h2>
      <ul style="line-height: 2;">
        <li>1998年 - ○○大学法学部卒業</li>
        <li>1998年 - 民間企業入社</li>
        <li>2005年 - 地域NPO法人設立に参画</li>
        <li>2010年 - 市議会議員初当選</li>
        <li>2014年 - 市議会議員再選（2期目）</li>
        <li>2018年 - 市議会議員再選（3期目）</li>
        <li>2022年 - 市議会議員再選（4期目、現在に至る）</li>
      </ul>
    </section>

    <section class="mt-4">
      <h2>政治信条</h2>
      <p>
        「すべての住民が安心して暮らせる社会」を実現するため、以下の信条のもと活動しています。
      </p>
      <ul style="line-height: 2; margin-top: 1rem;">
        <li>住民の声を第一に、現場主義を徹底します</li>
        <li>透明性の高い政治を実現します</li>
        <li>次世代に誇れる地域づくりを推進します</li>
      </ul>
    </section>

    <section class="mt-4">
      <div class="text-center">
        <a href={withBase('/policy/')} class="btn">政策を見る</a>
        <a href={withBase('/contact/')} class="btn btn-secondary" style="margin-left: 1rem;">お問い合わせ</a>
      </div>
    </section>
  </div>
</main>
